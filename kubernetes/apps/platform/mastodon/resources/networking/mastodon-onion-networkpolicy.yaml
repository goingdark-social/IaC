apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: mastodon-onion
  namespace: mastodon
spec:
  podSelector:
    matchLabels:
      app: mastodon-onion
  policyTypes:
  - Egress
  - Ingress
  # No ingress needed - traffic comes from Tor network, not K8s
  ingress: []
  egress:
  # Allow all egress (Tor needs to connect to Tor network and backend services)
  - {}

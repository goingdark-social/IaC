# Database configuration - CloudNativePG cluster
# Using pooler services for connection pooling
# Certificate now includes pooler hostnames in SANs (database-cnpg-pooler-rw/ro)
DB_HOST=database-cnpg-pooler-rw
DB_PORT=5432
DB_NAME=mastodon
DB_SSLMODE=verify-ca
# CNPG SSL verification using CA certificate
PGSSLROOTCERT=/etc/ssl/certs/postgresql/ca.crt
DB_POOL=15
# CNPG pooler for read-only replicas
REPLICA_DB_HOST=database-cnpg-pooler-ro
REPLICA_DB_PORT=5432
REPLICA_DB_NAME=mastodon
REPLICA_PREPARED_STATEMENTS=false
REPLICA_DB_TASKS=false
DATABASE_TIMEOUT=60
STREAMING_DATABASE_TIMEOUT=10
